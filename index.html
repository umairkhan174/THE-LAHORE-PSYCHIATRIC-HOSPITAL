<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>LAHORE PSYCHIATRIC HOSPITAL</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <!-- LOGIN -->
  <div id="loginSection" class="card center">
    <h1>Login</h1>
    <form id="loginForm" class="grid">
      <input name="username" placeholder="Username" required />
      <input type="password" name="password" placeholder="Password" required />
      <button type="submit" class="btn primary">Login</button>
    </form>
  </div>

  <!-- APP -->
  <div id="appSection" style="display:none;">
    <!-- NAV -->
    <nav class="topnav">
      <div class="brand">Lahore Psychiatric Hospital</div>
      <div class="tabs">
        <button data-tab="patientsTab" class="tab active">Patients</button>
        <button data-tab="doctorsTab" class="tab">Doctors</button>
        <button data-tab="appointmentsTab" class="tab">Appointments</button>
        <button data-tab="earningsTab" class="tab adminOnly" style="display:none;">Earnings</button>
        <button id="logoutBtn" class="btn danger small">Logout</button>
      </div>
    </nav>

    <!-- PATIENTS -->
    <section id="patientsTab" class="tabpage show">
      <div class="card">
        <h2>Patient Registration</h2>
        <form id="patientForm" class="grid two">
          <input id="p_name" placeholder="Full Name" required />
          <input id="p_age" type="number" placeholder="Age" required />
          <select id="p_gender" required>
            <option value="">Gender</option><option>Male</option><option>Female</option><option>Other</option>
          </select>
          <input id="p_phone" placeholder="Phone Number" />
          <input id="p_relativePhone" placeholder="Relative Phone" />
          <input id="p_address" placeholder="Address" />
          <input id="p_referredBy" placeholder="Referred By" />
          <input id="p_fatherHusband" placeholder="Father/Husband Name" />
          <input id="p_bloodGroup" placeholder="Blood Group" />
          <input id="p_diagnosis" placeholder="Diagnosis" />
          <input id="p_kidsAlive" type="number" placeholder="Kids Alive" />
          <input id="p_kidsDead" type="number" placeholder="Kids Dead" />
          <input id="p_siblingsAlive" type="number" placeholder="Siblings Alive" />
          <input id="p_siblingsDead" type="number" placeholder="Siblings Dead" />
          <input id="p_fee" type="number" min="2000" max="20000" placeholder="Fee (2000â€“20000 PKR)" required />
          <label class="filelabel">Photo <input id="p_photo" type="file" accept="image/*" /></label>
          <label class="filelabel">Files (multiple) <input id="p_files" type="file" multiple /></label>
          <div class="row">
            <button class="btn primary" type="submit">Register Patient</button>
            <button class="btn ghost" type="button" id="patientResetBtn">Clear Form</button>
          </div>
        </form>
      </div>

      <div class="card">
        <div class="row space">
          <h2>Patient Records</h2>
          <div class="row">
            <input id="patientSearch" class="search" placeholder="Search ID/Name/Diagnosis" />
            <button id="patientExportCsv" class="btn">Export CSV</button>
            <label class="btn filebtn">Import CSV
              <input id="patientImportCsv" type="file" accept=".csv" hidden />
            </label>
          </div>
        </div>

        <div class="tablewrap">
          <table id="patientsTable">
            <thead>
              <tr>
                <th>ID</th><th>Name</th><th>Gender</th><th>Diagnosis</th><th>Fee</th><th>Actions</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>

        <div class="row">
          <button id="patientPrintPreview" class="btn success">Print Preview</button>
          <button id="patientPrint" class="btn success ghost">Print</button>
        </div>
      </div>

      <!-- PRINT PREVIEW PORTAL -->
      <div id="printPreview" class="print-card" style="display:none;"></div>
    </section>

    <!-- DOCTORS -->
    <section id="doctorsTab" class="tabpage">
      <div class="card">
        <h2>Doctor Registration</h2>
        <form id="doctorForm" class="grid two">
          <input id="d_name" placeholder="Doctor Name" required />
          <input id="d_specialty" placeholder="Specialty" required />
          <input id="d_phone" placeholder="Phone" />
          <input id="d_availability" placeholder="Availability" />
          <div class="row">
            <button class="btn primary" type="submit">Register Doctor</button>
            <button class="btn ghost" type="button" id="doctorResetBtn">Clear Form</button>
          </div>
        </form>
      </div>

      <div class="card">
        <div class="row space">
          <h2>Doctor Records</h2>
          <div class="row">
            <input id="doctorSearch" class="search" placeholder="Search Name/Specialty" />
            <button id="doctorExportCsv" class="btn">Export CSV</button>
            <label class="btn filebtn">Import CSV
              <input id="doctorImportCsv" type="file" accept=".csv" hidden />
            </label>
          </div>
        </div>
        <div class="tablewrap">
          <table id="doctorsTable">
            <thead>
              <tr>
                <th>ID</th><th>Name</th><th>Specialty</th><th>Phone</th><th>Availability</th><th>Actions</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>
      </div>
    </section>

    <!-- APPOINTMENTS -->
    <section id="appointmentsTab" class="tabpage">
      <div class="card">
        <h2>Book Appointment</h2>
        <form id="appointmentForm" class="grid two">
          <input id="a_patientId" placeholder="Patient ID (e.g., P0001)" required />
          <input id="a_doctorId" placeholder="Doctor ID (e.g., D0001)" required />
          <input id="a_date" type="date" required />
          <input id="a_time" type="time" required />
          <input id="a_fee" type="number" min="500" max="5000" placeholder="Appointment Fee" required />
          <div class="row">
            <button class="btn primary" type="submit">Book</button>
            <button class="btn ghost" type="button" id="appointmentResetBtn">Clear Form</button>
          </div>
        </form>
      </div>

      <div class="card">
        <div class="row space">
          <h2>Appointment Records</h2>
          <div class="row">
            <input id="appointmentSearch" class="search" placeholder="Search Patient/Doctor/Date" />
            <button id="appointmentExportCsv" class="btn">Export CSV</button>
            <label class="btn filebtn">Import CSV
              <input id="appointmentImportCsv" type="file" accept=".csv" hidden />
            </label>
          </div>
        </div>
        <div class="tablewrap">
          <table id="appointmentsTable">
            <thead>
              <tr>
                <th>ID</th><th>Patient ID</th><th>Doctor ID</th><th>Date</th><th>Time</th><th>Fee</th><th>Actions</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>
      </div>
    </section>

    <!-- EARNINGS (ADMIN ONLY) -->
    <section id="earningsTab" class="tabpage">
      <div class="card">
        <div class="row space">
          <h2>Hospital Earnings (Admin Only)</h2>
          <div class="row">
            <button id="earningsExportCsv" class="btn">Export CSV</button>
          </div>
        </div>
        <div id="earningsContent" class="earn"></div>
      </div>
    </section>
  </div>

  <script src="app.js"></script>
</body>
</html>
